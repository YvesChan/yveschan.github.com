
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Hello YC</title>
	<meta name="author" content="YvesChan">

	
	<meta name="description" content="Week 4 - SDN Nuts and Bolts(螺母和螺栓) - Control Plane =================== Learing objectives: Review how an SDN controller can populate(填充) a switch&# &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Hello YC" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>

<body>
	<header id="header" class="inner"><h1><a href="/">Hello YC</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
    <li><a href="/blog/archives">Archives</a></li>
    <li><a href="/about.html">About</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
    <li><a href="/blog/archives">Archives</a></li>
    <li><a href="/about.html">About</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="https://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:YvesChan.github.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		<a class="google" href="https://plus.google.com/102815467033208490607?rel=author" title="Google+">Google+</a>
		
		
		<a class="twitter" href="http://twitter.com/shankscyp" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/YvesChan" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
	<form class="search" action="https://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:YvesChan.github.com">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/software-defined-networking-note-3/">
		
			Software-Defined Networking - Note 3</a>
	</h2>
	<div class="entry-content">
		<h1>Week 4 - SDN Nuts and Bolts(螺母和螺栓) - Control Plane</h1>

<p>===================</p>

<h2>Learing objectives:</h2>

<ul>
<li>Review how an SDN controller can populate(填充) a switch&#8217;s forwarding table.</li>
<li>Determine how an SDN controller can be used to control multiple switches in a single network, and why to do so.</li>
<li>Gain experience setting up a controller and basic switch environment.</li>
<li>Understand the design tradeoffs between some of the more commonly used SDN/OpenFlow controllers. (一些广泛使用的控制器之间的设计抉择)</li>
<li>Set up controller in Mininet that can perform basic operations,like switch-table population and firewalling.</li>
</ul>


<h2>Control plane basics</h2>

<h3>Openflow protocol specification(协议规范) (pic in PPT - P6)</h3>

<ul>
<li><p><code>OpenFlow controller</code> communicates with <code>switch</code> over Secure channel</p>

<ul>
<li>OF protocol defines msg format</li>
<li>controller use control channel to update flow table</li>
<li>logic is executed at controller</li>
</ul>
</li>
<li><p><code>Switch components</code> including:</p>

<ul>
<li>flow tables: perform packet lookup, if matching then take <code>action</code>

<ul>
<li>actions: forward, drop, modify, enqueue</li>
<li>flow table format:</li>
</ul>
</li>
</ul>
</li>
</ul>


<pre>
 switch| MAC      |Eth |VLAN|IP               |TCP/UDP
 port  |[src][dst]|type|ID  |[src][dst][proto]|[sport][dport]|action
</pre>


<ul>
<li>secure channel</li>
</ul>


<p>控制器与OF交换机之间通过SSL连接，使用OF协议进行通信，并在交换机上设置和更新流表。交换机只负责根据流表处理数据包，因此所有的逻辑都在控制器。每个数据包协议头部与所有流表(flow table)一一对比，如果匹配则执行相应的操作，如果所有都不匹配则发送到控制器(controller)。</p>

<ul>
<li><code>dpctl</code> Control channel

<ul>
<li>switches default port: 6634</li>
<li>inspect, modify flow table</li>
</ul>
</li>
</ul>


<p>Even in the absence of a controller, we can use dpctl to talk to the switch.</p>


		
		<a href="/blog/software-defined-networking-note-3/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-09-02T22:41:00+08:00" pubdate data-updated="true">Sep 2<span>nd</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/openflow/'>OpenFlow</a>, <a class='category' href='/blog/categories/sdn/'>SDN</a>


</div>
	
		<div class="comments"><a href="/blog/software-defined-networking-note-3//index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/software-defined-networking-note-2/">
		
			Software Defined Networking - Note 2</a>
	</h2>
	<div class="entry-content">
		<h1>Week 3</h1>

<h2>Learning Objectives:</h2>

<ul>
<li>Discover what network virtualization is and why it is used</li>
<li>Identify various ways of implementing virtual networks</li>
<li>Explain why Mininet is useful</li>
<li>Practice how Mininet works</li>
<li>Gain more experience using Mininet, setting up topologies, etc.</li>
</ul>


<h2>Network virtualization</h2>

<h3>definition: Abstraction of the physical network(物理网络的抽象)</h3>

<ul>
<li>support multiple logical networks share a physical substrate(多个逻辑网络共享物理基础设施)</li>
<li>container of network services</li>
</ul>


<h3>Aspects of network virtualization(网络虚拟化的应用层面)</h3>

<ul>
<li>Nodes: VM</li>
<li>Links: Tunnels</li>
<li>Storage</li>
</ul>


<h3>Motivation &amp; Goal</h3>

<ul>
<li>Flexibility</li>
<li>Manageability</li>
<li>Scalability</li>
<li>Security &amp; Isolation</li>
<li>Programmability</li>
<li>Heterogeneity(异质性): 支持不同技术</li>
</ul>


<h3>Virtual switch(虚拟交换技术)</h3>

<p>Mechanism that taking Ethernet frames inside a VM and passing them to the physical interface, which networking VM together over L2 topology.(通过虚拟交换技术将虚拟机连接到二层网络)</p>

<p>Example:
* short-bridge in VINI: extension of Linux bridging(桥接)
* Open vSwitch: can be configured remotely with OpenFlow, json</p>

<h2>Application of virtual networking</h2>

<ul>
<li>Experimental deployments</li>
<li>Isolation on shared infrastructure</li>
<li>Reuse of resource pool</li>
<li>Dynamic scaling</li>
<li>Easier management of logical resources</li>
</ul>


<h2>Virtual network in Mininet</h2>

<h3>Mininet</h3>

<p>difiniton: a <code>virtual network environment</code> that can run on a single PC</p>

<p><em>Mininet</em> VM architecture paradigm(review it in ppt/pdf):</p>

<ol>
<li>lanuch mininet process(mn)</li>
<li>create subprocesses(/bin/bash) &amp; network namespace in per vhost</li>
<li>create virtual ethernet(veth) pairs and assign to namespace(establish tunnel between virtual interface(VHost) and real interface(local).)</li>
<li>create OpenFlow switch to connect vhosts</li>
<li>create OpenFlow controller to control flow table entries in switch through OpenFlow protocol</li>
</ol>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-09-01T21:49:00+08:00" pubdate data-updated="true">Sep 1<span>st</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/openflow/'>OpenFlow</a>, <a class='category' href='/blog/categories/sdn/'>SDN</a>


</div>
	
		<div class="comments"><a href="/blog/software-defined-networking-note-2//index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/software-defined-networking-note-1/">
		
			Software Defined Networking - Note 1</a>
	</h2>
	<div class="entry-content">
		<blockquote><p>SDN (Software-Defined Networking) is an approach to computer networking which abstracts the distributed systems, the control plane and the data plane.</p>

<pre><code>                                                    -- from Wikipedia
</code></pre></blockquote>

<p>刚好coursera的SDN课程开在暑假，总算有个课是想上又有时间上了 = =</p>

<p>这里权当是做个笔记。因为本人英语渣，如果不作笔记的话基本上过了没多久就忘得一干二净了（虽然现在也差不多）。</p>

<p>实话说，课程比较抽象，ppt过了第一遍基本上就云里雾里了，很多地方都是知其然不知其所以然。虽然SDN是针对数据中心网络的技术，但是个人觉得网络硬件在这几年来确实没什么重大的革命（菜鸟我没听说过有咯），而现在各大互联网公司都在抢占用户上网入口，也就是路由器。如果SDN走出学术界，在工业界量产的话，那也算的上是网络硬件的革命了。难怪SDN会被称为Computer Network的X86。当然目前离大规模普及还是长路漫漫啊，具体面临的困难这里略去不表&#8230;（表不了啊）</p>

<p>以下内容参照 Coursera 的 <a href="https://class.coursera.org/sdn-001/wiki/view?page=syllabus">SDN open course</a></p>


		
		<a href="/blog/software-defined-networking-note-1/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-07-13T15:21:00+08:00" pubdate data-updated="true">Jul 13<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/openflow/'>OpenFlow</a>, <a class='category' href='/blog/categories/sdn/'>SDN</a>


</div>
	
		<div class="comments"><a href="/blog/software-defined-networking-note-1//index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/shadowsocks-analysis/">
		
			Shadowsocks 源码解释</a>
	</h2>
	<div class="entry-content">
		<blockquote><p>对于科学上网这种事，我向来一丝不苟。</p>

<p>但本po的主题并不是如何科学上网，而是深入了解proxy背后的原理。</p></blockquote>

<h2>Preface</h2>

<p>去年shadowsocks在V2EX刚<a href="http://www.v2ex.com/t/32777">发布</a>的时候，我就已经开始留意这个项目。当时还在用Goagent，但有时候速度确实不咋的，而且重新配置的话会比较麻烦。9月份入手VPS之后开始折腾PPTP VPN，效果相当不稳定。不久后OpenVPN也开始受到干扰了。看来必须寻找比较小众的方式，避免躺枪。因此，初试shadowsocks（python版），速度或者稳定性都相当好，一直用到现在，未出现过什么问题。配置也很简单，唯一的门槛就是需要国外的Linux 主机（VPS）。现在shadowsocks项目已经发展到多语言跨平台了，社区也比较活跃，主要原因是项目架构简单，代码精简易于维护。</p>

<p>一周前开始学习python，主要是想用python写一个爬虫。大概用了4天的课余时间把 《Dive Into Python3》过了一遍，了解基本语法。结合文档看大牛的源码是很好的学习方式，所谓learn by doing嘛。不得不说，shadowsocks的源码真心简洁，再看一下SOCK5协议的报文格式，并没有花很多时间。貌似说了不少废话，现在入正题= =！</p>


		
		<a href="/blog/shadowsocks-analysis/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-05-18T09:10:00+08:00" pubdate data-updated="true">May 18<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/gfw/'>GFW</a>, <a class='category' href='/blog/categories/python/'>python</a>, <a class='category' href='/blog/categories/socks5/'>socks5</a>


</div>
	
		<div class="comments"><a href="/blog/shadowsocks-analysis//index.html#disqus_thread">Comments</a></div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/first-blood/">
		
			First Blood</a>
	</h2>
	<div class="entry-content">
		<blockquote><p>First Blood</p>

<p>出自ACM/ICPC
形容某道题第一个AC的team称为拿到了该题的 <em>First Blood</em></p></blockquote>

<p>一直想测试一下Octopress的使用体验，花了一个晚上折腾Ruby的安装环境和各种各样的奇怪问题，总算是弄好了。</p>

<p>说起来最近折腾了不少东西，比如Sublime Text 2的各种plugins，比如zsh，比如tmux，etc。真心觉得生命在于折腾啊。越来越体会到先进的工具对生产力的影响了。神器如ST2，如果使用得当，绝对是可敌IDE，但是要记得那么多快捷键也不是那么容易啊。vim的话，我也常用，但是只能算入门。大概就是八二原理吧，百分之八十的时间只用到百分之二十的功能。</p>

<p>原来的博客放在Blogspot上面，写po的时候非常不方便，比如不支持markdown，比如代码高亮要添加各种插件，比如被墙（这个才是最重要的）。另外数据导出和备份也是个问题。之前想在VPS上鼓捣wordpress，但是感觉吧，还是不够纯粹，加上WP默认主题太多槽点。Orz 虽然说WP也是有很多可折腾的地方，但是吧我发现如果不通过点什么东西来巩固我的git技能和markdown语法，估计要掉的差不多了 = =</p>

<p>网上关于octopress的教程一陀陀的，我就不重复了。然后比较蛋疼的ST2的中文输入问题一直没有解决，然后vim输入中文感觉灰常怪，所以就gedit先凑合着。突然想起一个比较蛋疼的问题：如果在别的机器上要写blog，那岂不是也要有Ruby的环境？看来要尽快考虑将静态网页生成的工作交由服务器负责了。果然什么都是有利有弊啊，更多优缺点有待发现ing&#8230;.</p>

<p>其实呢，折腾虽说是由个人喜好决定，但是也不要太过了，码农还是以敲代码为主嘛，只停留在一些应用层面上的东西没什么太大的意思，这也是我不愿意折腾UI的原因&#8230;</p>

<p>PS: 原先的Blog在<a href="http://shanks-chan.blogspot.com">Blogspot</a>由于贴代码太不方便了，而且被墙，应该不会再更新&#8230;.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-03-19T21:54:00+08:00" pubdate data-updated="true">Mar 19<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/gan-wu-za-tan/'>感悟杂谈</a>


</div>
	
		<div class="comments"><a href="/blog/first-blood//index.html#disqus_thread">Comments</a></div>
	
</div></article>

<nav id="pagenavi">
    
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    YvesChan

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'helloyc';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-39495391-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>